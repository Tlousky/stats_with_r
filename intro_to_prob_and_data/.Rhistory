l = c( seq( 5, 10), seq( 6, 100 ), rep( seq(1, 10 ), 10 ) )
l
hist( l )
l = c( l, rbinom(n = 50, size = 50, prob = 0.5 ) )
hist( l )
library( ggplot2 )
g = ggplot( data = l ) + geom_histogram()
df = data.frame( x = seq( length(l)), y = l )
g = ggplot( data = df, aes( x = x, y = y ) ) + geom_histogram()
g
g = ggplot( data = df, aes( x = y ) ) + geom_histogram()
g
df2 = data.frame( df )
df2$y = log( df$y )
g2 = ggplot( data = df2, aes( x = y ) ) + geom_histogram()
g2
rm( list = ls() )
library(statsr)
library(dplyr)
library(ggplot2)
data(nycflights)
names(nycflights)
str(nycflights)
sfo_feb_flights <- nycflights %>%
filter(dest == "SFO", month == 2)
nrow( sfo_feb_flights )
sfo_feb_flights <- nycflights %>%
filter(dest == "SFO", month == 2)
ggplot(data = rdu_flights, aes(x = arr_delay)) +
geom_histogram()
sfo_feb_flights <- nycflights %>%
filter(dest == "SFO", month == 2)
ggplot(data = sfo_feb_flights, aes(x = arr_delay)) +
geom_histogram()
nycflights                            %>%
filter(dest == "SFO", month == 2) %>%
group_by(carrier)                 %>%
summarise( median_ad = median(arr_delay), iqr_ad = IQR(arr_delay), n = n() )
nycflights                                                                       %>%
filter(dest == "SFO", month == 2)                                            %>%
group_by(carrier)                                                            %>%
summarise( median_ad = median(arr_delay), iqr_ad = IQR(arr_delay), n = n() ) %>%
arrange( iqr_ad )
nycflights %>%
group_by(month) %>%
summarise(mean_dd = mean(dep_delay)) %>%
arrange(desc(mean_dd))
nycflights %>%
group_by(month) %>%
summarise(mean_dd = median(dep_delay)) %>%
arrange(desc(mean_dd))
nycflights %>%
group_by(month) %>%
summarise(median_dd = median(dep_delay)) %>%
arrange(desc(median_dd))
ggplot(nycflights, aes(x = factor(month), y = dep_delay)) +
geom_boxplot()
nycflights <- nycflights %>%
mutate(dep_type = ifelse(dep_delay < 5, "on time", "delayed"))
nycflights %>%
group_by(origin) %>%
summarise(ot_dep_rate = sum(dep_type == "on time") / n()) %>%
arrange(desc(ot_dep_rate))
s <- nycflights %>%
group_by(origin) %>%
summarise(ot_dep_rate = sum(dep_type == "on time") / n()) %>%
arrange(desc(ot_dep_rate))
s
s[ s$ot_dep_rate = max( s$ot_dep_rate ), 'origin' ]
s[ s$ot_dep_rate == max( s$ot_dep_rate ), 'origin' ]
s <- nycflights %>%
group_by(origin) %>%
summarise(ot_dep_rate = sum(dep_type == "on time") / n()) %>%
arrange(desc(ot_dep_rate))
s[ s$ot_dep_rate == max( s$ot_dep_rate ), 'origin' ]
nycflights$distance
nycflights$air_time[[0]]
nycflights$air_time[[1]]
nycflights <- nycflights %>%
mutate(avg_speed = distance / ( air_time / 60 ) )
nycflights <- nycflights %>%
mutate(avg_speed = distance / ( air_time / 60 ) )
nycflights %>% arrange( avg_speed ) %>% head( 1 )
nycflights <- nycflights %>%
mutate(avg_speed = distance / ( air_time / 60 ) )
nycflights %>% arrange( desc(avg_speed) ) %>% head( 1 )
nycflights <- nycflights %>%
mutate(avg_speed = distance / ( air_time / 60 ) )
nycflights[, c('avg_speed','tailnum') ] %>% arrange( desc(avg_speed) ) %>% head( 1 )
nycflights <- nycflights %>%
mutate(avg_speed = distance / ( air_time / 60 ) )
nycflights[, c('avg_speed','tailnum') ] %>% arrange( avg_speed ) %>% head( 1 )
ggplot( nycflights, aes( x = avg_speed, y = distance ) ) + geom_point()
nycflights <- nycflights %>%
mutate(arr_type = ifelse(arr_delay <= 0, "on time", "delayed"))
summarize( nycflights, on_time_p = sum( arr_delay == 'on time' ) / n() )
nycflights <- nycflights %>%
mutate(arr_type = ifelse(arr_delay <= 0, "on time", "delayed"))
summarize( nycflights, on_time_p = sum( arr_type == 'on time' ) / n() )
nycflights <- nycflights %>%
mutate(arr_type = ifelse(arr_delay <= 0, "on time", "delayed"))
nycflights                           %>%
filter( dep_delay == 'delayed' ) %>%
summarize( on_time_p = sum( arr_type == 'on time' ) / n() )
nycflights <- nycflights %>%
mutate(arr_type = ifelse(arr_delay <= 0, "on time", "delayed"))
nycflights                           %>%
filter( dep_delay == 'delayed' ) %>%
group_by( arr_type )             %>%
summarize( p_delayed_on_time = n() / nrow(nycflights) )
d = nycflights %>% filter( dep_delay == 'delayed' )
head(d )
str( nycflights)
nycflights <- nycflights %>%
mutate(arr_type = ifelse(arr_delay <= 0, "on time", "delayed"))
nycflights                           %>%
filter( dep_type == 'delayed' )  %>%
group_by( arr_type )             %>%
summarize( p_delayed_on_time = n() / nrow(nycflights) )
nycflights <- nycflights %>%
mutate(arr_type = ifelse(arr_delay <= 0, "on time", "delayed"))
nycflights                           %>%
filter( dep_type == 'delayed' )  %>%
group_by( arr_type )             %>%
summarize( p_delayed_on_time = n() / nrow(filter( nycflights, dep_type == 'delayed' )) )
nycflights <- nycflights %>%
mutate(arr_type = ifelse(arr_delay <= 0, "on time", "delayed"))
delayed = nycflights %>% filter( dep_type == 'delayed' )
delayed                   %>%
group_by( arr_type )  %>%
summarize( p_delayed_on_time = n() / nrow( filter( nycflights, dep_type == 'delayed' ) ) )
nrow( delayed )
nycflights <- nycflights %>%
mutate(arr_type = ifelse(arr_delay <= 0, "on time", "delayed"))
delayed = nycflights %>% filter( dep_type == 'delayed' )
delayed                   %>%
group_by( arr_type )  %>%
summarize( p_delayed_on_time = n() / nrow( delayed ) )
library(statsr)
library(dplyr)
library(ggplot2)
data(kobe_basket)
view(kobe_basket)
View(kobe_basket)
head(kobe_basket,8)
calc_streak
kobe_streak <- calc_streak(kobe_basket$shot)
View(kobe_streak)
str( kobe_streak )
kobe_streak$length = as.factor( kobe_streak$length )
summary( kobe_streak)
summarize( kobe_streak, m = mean(length), med = median(length), iqr = IQR(length), sd = sd(length) )
kobe_streak$lnum = as.numeric( kobe_streak$length )
summarize( kobe_streak, m = mean(lnum), med = median(lnum), iqr = IQR(lnum), sd = sd(lnum) )
b = rbinom(n = 2, size = 100, prob = 0.45 )
b
b = rbinom(n = 100, size = 2, prob = 0.45 )
b
b = rbinom(n = 100, size = 1, prob = 0.45 )
b
summnary( as.factor( b) )
summary( as.factor( b) )
hm = c( "H", "M" )
b = sample( hm, size = 100, replace = TRUE )
b
b = sample( hm, size = 100, replace = TRUE, probs = c(0.55, 0.45) )
b = sample( hm, size = 100, replace = TRUE, probs = c(0.55, 0.45) )
b = sample( hm, size = 100, replace = TRUE, prob = c(0.55, 0.45) )
b
b = sample( hm, size = 100, replace = TRUE, prob = c(0.2, 0.8) )
b
summary( as.factor(b) )
sim_basket = sample( hm, size = 133, replace = TRUE, prob = c(0.45, 0.55) )
sim_streak = calc_streak( sim_basket )
ggplot( sim_streak ) + geom_histogram()
ggplot( sim_streak, aes( y = length ) ) + geom_histogram()
ggplot(data = sim_streak, aes(x = length)) +
geom_histogram(binwidth = 1)
ggplot(data = sim_streak, aes(x = length, fill = length)) +
geom_histogram(binwidth = 1)
ggplot(data = sim_streak, aes(x = length, fill = length)) +
geom_histogram(binwidth = 1, aes( fill = length ) )
summary( as.factor( as.factor( sim_streak$length ) ) )
summary( as.factor( as.factor( kobe_streak$length ) ) )
kobe_streak$group = rep( "Kobe", nrow)
kobe_streak$group = rep( "Kobe", nrow( kobe_streak ) )
sim_streak$group = rep( "Sim", nrow( sim_streak) )
View(kobe_streak)
kobe_streak = kobe_streak[, c("length","group") ]
df = rbind( kobe_streak, sim_streak )
ggplot( df, aes( x = length, group = group, fill = group ) ) + geom_histogram( bin_width = 1 )
ggplot( df, aes( x = length, group = group, fill = group ) ) + geom_histogram( binwidth = 1 )
View(df)
ggplot(data = df, aes(x = length, fill = group)) + geom_histogram(binwidth = 1, aes( fill = length ) )
ggplot(data = df, aes(x = length, fill = group)) + geom_histogram(binwidth = 1, aes( fill = length ), stat = "count" )
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group ) ) + geom_histogram()
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group ) ) + geom_histogram( stat = "count" )
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group ) ) + geom_histogram( stat = "count", binwidth = 1 )
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group ) ) + geom_histogram( stat = "count", binwidth = 1, bins = c(0,1,2,3,4), pad = 10 )
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group ) ) + geom_histogram( stat = "count", binwidth = 1, bins = c(0,1,2,3,4), pad = 1 )
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group ) ) + geom_histogram( stat = "count", binwidth = 1, bins = c(0,1,2,3,4) )
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group ) ) + geom_histogram( stat = "count", aes( binwidth = 1, bins = c(0,1,2,3,4) ))
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group ) ) + geom_bar()
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group, group = group ) ) + geom_bar()
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group, group = group ) ) + geom_bar(position="dodge",stat="identity") + facet_wrap( ~group, nrow = 2 )
df %>% group_by( group ) %>% ggplot( aes( fill = group, group = group ) ) + geom_bar(position="dodge",stat="identity") + facet_wrap( ~group, nrow = 2 )
df %>% group_by( group ) %>% ggplot( aes( y = length, x = as.factor( length ), fill = group, group = group ) ) + geom_bar(position="dodge",stat="identity") + facet_wrap( ~group, nrow = 2 )
df %>% group_by( group ) %>% ggplot( aes( y = length, x = as.factor( length ), fill = group, group = group ) ) + geom_bar(position="dodge",stat="identity") #+ facet_wrap( ~group, nrow = 2 )
df %>% group_by( group ) %>% ggplot( aes( y = length, x = as.factor( length ), fill = group, group = group ) ) + geom_bar(position="dodge",stat="count") #+ facet_wrap( ~group, nrow = 2 )
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group, group = group ) ) + geom_bar(position="dodge",stat="count") #+ facet_wrap( ~group, nrow = 2 )
df %>% group_by( group ) %>% ggplot( aes( x = length, fill = group, group = group ) ) + geom_bar(position="dodge",stat="count") #+ facet_wrap( ~group, nrow = 2 )
median( kobe_streak )
median( kobe_streak$length )
median( as.numeric( kobe_streak$length ) )
quantile( as.numeric( kobe_streak$length ) )
IQR( as.numeric( kobe_streak$length ) )
mean( as.numeric( kobe_streak$length ) )
summary( kobe_streak$length )
